<div class="create">
  <h2>Music groups</h2>
  <button (click)="openDialog($event)">Create new</button>
</div>

<app-admin-music-group-dialog
  [group]="getDefaultMusicGroup()"
  (getOpenDialog)="setOpenDialog($event)"
  (onCreatedGroup)="addMusicGroup($event)"
  (onUpdatedGroup)="updateMusicGroup($event)"
/>


<div
  class="list"
  infiniteScroll
  [infiniteScrollDistance]="2"
  [infiniteScrollThrottle]="150"
  (scrolled)="loadMusicGroups()"
>
  @for (group of musicGroups(); track group.slug) {
    <app-admin-music-group-card [group]="group" (onDeletedGroup)="deleteMusicGroup($event)" (onUpdatedGroup)="updateMusicGroup($event)" />
  } @empty {
     @if(!loading) {
      <p class="no-groups">There are no music groups.</p>
    }
  }

  @if(loading) {
    <div class="loading">
      <app-loading-gif />
    </div>
  }
</div>


<style>
</style>
